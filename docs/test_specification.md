# 営業日報システム テスト仕様書

## 1. テスト概要

### 1.1 目的
本ドキュメントは、営業日報システムの品質を保証するためのテスト仕様を定義する。

### 1.2 テスト種別
| テスト種別 | 概要 |
|-----------|------|
| 単体テスト | 各機能単位でのテスト |
| 結合テスト | API・DBの連携テスト |
| 画面テスト | 画面操作・表示のテスト |
| シナリオテスト | 業務フローに沿ったテスト |

### 1.3 テスト環境
| 項目 | 内容 |
|------|------|
| テスト環境 | ステージング環境 |
| テストデータ | テスト用マスタデータを使用 |
| ブラウザ | Chrome（最新版）、Edge（最新版） |

---

## 2. テストケース一覧

### 2.1 認証機能テスト

#### TC-AUTH-001 ログイン機能

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-AUTH-001-01 | 正常ログイン | 有効なユーザーが存在する | 1. ログイン画面を表示<br>2. 正しいメールアドレスを入力<br>3. 正しいパスワードを入力<br>4. ログインボタンを押下 | ダッシュボード画面に遷移する | 高 |
| 2 | TC-AUTH-001-02 | メールアドレス未入力 | - | 1. ログイン画面を表示<br>2. メールアドレスを空のまま<br>3. パスワードを入力<br>4. ログインボタンを押下 | エラーメッセージ「メールアドレスを入力してください」が表示される | 高 |
| 3 | TC-AUTH-001-03 | パスワード未入力 | - | 1. ログイン画面を表示<br>2. メールアドレスを入力<br>3. パスワードを空のまま<br>4. ログインボタンを押下 | エラーメッセージ「パスワードを入力してください」が表示される | 高 |
| 4 | TC-AUTH-001-04 | メールアドレス形式不正 | - | 1. ログイン画面を表示<br>2. 不正な形式のメールアドレス（例：test）を入力<br>3. パスワードを入力<br>4. ログインボタンを押下 | エラーメッセージ「メールアドレスの形式が正しくありません」が表示される | 中 |
| 5 | TC-AUTH-001-05 | 存在しないユーザー | - | 1. ログイン画面を表示<br>2. 存在しないメールアドレスを入力<br>3. パスワードを入力<br>4. ログインボタンを押下 | エラーメッセージ「メールアドレスまたはパスワードが正しくありません」が表示される | 高 |
| 6 | TC-AUTH-001-06 | パスワード誤り | 有効なユーザーが存在する | 1. ログイン画面を表示<br>2. 正しいメールアドレスを入力<br>3. 誤ったパスワードを入力<br>4. ログインボタンを押下 | エラーメッセージ「メールアドレスまたはパスワードが正しくありません」が表示される | 高 |

#### TC-AUTH-002 ログアウト機能

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-AUTH-002-01 | 正常ログアウト | ログイン済み | 1. ヘッダーのログアウトボタンを押下 | ログイン画面に遷移する | 高 |
| 2 | TC-AUTH-002-02 | ログアウト後のアクセス制限 | ログアウト済み | 1. ダッシュボードのURLに直接アクセス | ログイン画面にリダイレクトされる | 高 |

---

### 2.2 ダッシュボード機能テスト

#### TC-DASH-001 ダッシュボード表示

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-DASH-001-01 | 本日の日報状況（未作成） | 本日の日報が未作成 | 1. ダッシュボードを表示 | 「未作成」と表示される<br>「日報を作成する」ボタンが表示される | 高 |
| 2 | TC-DASH-001-02 | 本日の日報状況（作成済み） | 本日の日報が作成済み | 1. ダッシュボードを表示 | 「作成済み」と表示される | 高 |
| 3 | TC-DASH-001-03 | 未読コメント数表示 | 未読コメントが3件存在 | 1. ダッシュボードを表示 | 未読コメント「3件」と表示される | 中 |
| 4 | TC-DASH-001-04 | 最近の日報一覧表示 | 日報が5件以上存在 | 1. ダッシュボードを表示 | 直近5件の日報が表示される | 中 |

---

### 2.3 日報機能テスト

#### TC-RPT-001 日報一覧

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-RPT-001-01 | 一覧表示（一般営業） | 一般営業でログイン<br>自分の日報が存在 | 1. 日報一覧画面を表示 | 自分の日報のみ表示される | 高 |
| 2 | TC-RPT-001-02 | 一覧表示（管理者） | 管理者でログイン<br>複数営業の日報が存在 | 1. 日報一覧画面を表示 | 全営業の日報が表示される | 高 |
| 3 | TC-RPT-001-03 | 日付検索 | 日報が複数日存在 | 1. 日報一覧画面を表示<br>2. 報告日（開始）を入力<br>3. 報告日（終了）を入力<br>4. 検索ボタンを押下 | 指定期間の日報のみ表示される | 中 |
| 4 | TC-RPT-001-04 | 営業担当検索（管理者） | 管理者でログイン | 1. 日報一覧画面を表示<br>2. 営業担当を選択<br>3. 検索ボタンを押下 | 選択した営業の日報のみ表示される | 中 |
| 5 | TC-RPT-001-05 | ページネーション | 日報が21件以上存在 | 1. 日報一覧画面を表示<br>2. 2ページ目をクリック | 2ページ目の日報が表示される | 低 |
| 6 | TC-RPT-001-06 | 検索条件クリア | 検索条件を入力済み | 1. クリアボタンを押下 | 検索条件がクリアされ、全件表示される | 低 |

#### TC-RPT-002 日報作成

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-RPT-002-01 | 正常作成（訪問1件） | 本日の日報が未作成 | 1. 日報作成画面を表示<br>2. 報告日を選択<br>3. 顧客を選択<br>4. 訪問時刻を入力<br>5. 訪問内容を入力<br>6. 課題・相談を入力<br>7. 明日やることを入力<br>8. 保存ボタンを押下 | 日報が作成され、詳細画面に遷移する | 高 |
| 2 | TC-RPT-002-02 | 正常作成（訪問複数件） | 本日の日報が未作成 | 1. 日報作成画面を表示<br>2. 報告日を選択<br>3. 訪問記録を3件入力<br>4. 保存ボタンを押下 | 日報が作成され、訪問記録が3件保存される | 高 |
| 3 | TC-RPT-002-03 | 訪問記録行追加 | 日報作成画面を表示 | 1. 行追加ボタンを押下 | 訪問記録の入力行が追加される | 中 |
| 4 | TC-RPT-002-04 | 訪問記録行削除 | 訪問記録が2行以上 | 1. 削除ボタンを押下 | 該当行が削除される | 中 |
| 5 | TC-RPT-002-05 | 報告日未選択 | - | 1. 報告日を未選択のまま<br>2. 保存ボタンを押下 | エラーメッセージ「報告日を選択してください」が表示される | 高 |
| 6 | TC-RPT-002-06 | 顧客未選択 | 訪問記録を1行入力 | 1. 顧客を未選択のまま<br>2. 保存ボタンを押下 | エラーメッセージ「顧客を選択してください」が表示される | 高 |
| 7 | TC-RPT-002-07 | 訪問内容未入力 | 訪問記録を1行入力 | 1. 訪問内容を空のまま<br>2. 保存ボタンを押下 | エラーメッセージ「訪問内容を入力してください」が表示される | 高 |
| 8 | TC-RPT-002-08 | 重複日付エラー | 同一日付の日報が存在 | 1. 既存日報と同じ報告日を選択<br>2. 保存ボタンを押下 | エラーメッセージ「指定された日付の日報は既に存在します」が表示される | 高 |
| 9 | TC-RPT-002-09 | キャンセル確認 | 入力途中の状態 | 1. キャンセルボタンを押下 | 確認ダイアログが表示される<br>OKで一覧へ戻る | 中 |

#### TC-RPT-003 日報詳細

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-RPT-003-01 | 詳細表示 | 日報が存在 | 1. 日報詳細画面を表示 | 日報の全情報が表示される | 高 |
| 2 | TC-RPT-003-02 | 編集ボタン表示（本人） | 自分の日報を表示 | 1. 日報詳細画面を表示 | 編集ボタンが表示される | 高 |
| 3 | TC-RPT-003-03 | 編集ボタン非表示（他人） | 他人の日報を表示（管理者） | 1. 日報詳細画面を表示 | 編集ボタンが表示されない | 高 |
| 4 | TC-RPT-003-04 | コメント一覧表示 | コメントが存在 | 1. 日報詳細画面を表示 | コメントが時系列で表示される | 中 |
| 5 | TC-RPT-003-05 | コメント入力欄表示（管理者） | 管理者でログイン | 1. 日報詳細画面を表示 | コメント入力欄が表示される | 高 |
| 6 | TC-RPT-003-06 | コメント入力欄非表示（一般） | 一般営業でログイン | 1. 日報詳細画面を表示 | コメント入力欄が表示されない | 高 |

#### TC-RPT-004 日報編集

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-RPT-004-01 | 正常更新 | 自分の日報が存在 | 1. 日報編集画面を表示<br>2. 訪問内容を修正<br>3. 保存ボタンを押下 | 日報が更新され、詳細画面に遷移する | 高 |
| 2 | TC-RPT-004-02 | 訪問記録追加 | 既存の訪問記録が2件 | 1. 日報編集画面を表示<br>2. 行追加ボタンを押下<br>3. 新規訪問記録を入力<br>4. 保存ボタンを押下 | 訪問記録が3件になる | 中 |
| 3 | TC-RPT-004-03 | 訪問記録削除 | 既存の訪問記録が2件 | 1. 日報編集画面を表示<br>2. 1件目の削除ボタンを押下<br>3. 保存ボタンを押下 | 訪問記録が1件になる | 中 |
| 4 | TC-RPT-004-04 | 他人の日報編集不可 | 他人の日報IDでアクセス | 1. 他人の日報の編集画面URLに直接アクセス | 権限エラーとなり、アクセスできない | 高 |

#### TC-RPT-005 コメント投稿

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-RPT-005-01 | 正常投稿 | 管理者でログイン | 1. 日報詳細画面を表示<br>2. コメントを入力<br>3. コメント投稿ボタンを押下 | コメントが保存され、一覧に表示される | 高 |
| 2 | TC-RPT-005-02 | コメント未入力 | 管理者でログイン | 1. コメントを空のまま<br>2. コメント投稿ボタンを押下 | エラーメッセージ「コメントを入力してください」が表示される | 高 |
| 3 | TC-RPT-005-03 | 一般営業の投稿不可 | 一般営業でログイン | 1. 日報詳細画面を表示 | コメント投稿機能が表示されない | 高 |

---

### 2.4 顧客マスタ機能テスト

#### TC-CUS-001 顧客一覧

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-CUS-001-01 | 一覧表示 | 顧客が存在 | 1. 顧客一覧画面を表示 | 顧客一覧が表示される | 高 |
| 2 | TC-CUS-001-02 | 会社名検索 | 顧客が複数存在 | 1. 会社名を入力<br>2. 検索ボタンを押下 | 部分一致する顧客のみ表示される | 中 |
| 3 | TC-CUS-001-03 | 検索結果0件 | - | 1. 存在しない会社名を入力<br>2. 検索ボタンを押下 | 「該当する顧客がありません」と表示される | 低 |

#### TC-CUS-002 顧客登録

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-CUS-002-01 | 正常登録（全項目） | - | 1. 顧客登録画面を表示<br>2. 会社名を入力<br>3. 担当者名を入力<br>4. メールアドレスを入力<br>5. 住所を入力<br>6. 電話番号を入力<br>7. 登録ボタンを押下 | 顧客が登録され、一覧画面に遷移する | 高 |
| 2 | TC-CUS-002-02 | 正常登録（必須のみ） | - | 1. 顧客登録画面を表示<br>2. 会社名のみ入力<br>3. 登録ボタンを押下 | 顧客が登録される | 高 |
| 3 | TC-CUS-002-03 | 会社名未入力 | - | 1. 会社名を空のまま<br>2. 登録ボタンを押下 | エラーメッセージ「会社名を入力してください」が表示される | 高 |
| 4 | TC-CUS-002-04 | メールアドレス形式不正 | - | 1. 不正な形式のメールアドレスを入力<br>2. 登録ボタンを押下 | エラーメッセージ「メールアドレスの形式が正しくありません」が表示される | 中 |
| 5 | TC-CUS-002-05 | 会社名最大文字数 | - | 1. 200文字の会社名を入力<br>2. 登録ボタンを押下 | 正常に登録される | 低 |
| 6 | TC-CUS-002-06 | 会社名最大文字数超過 | - | 1. 201文字以上の会社名を入力<br>2. 登録ボタンを押下 | エラーメッセージ「会社名は200文字以内で入力してください」が表示される | 低 |

#### TC-CUS-003 顧客編集

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-CUS-003-01 | 正常更新 | 顧客が存在 | 1. 顧客編集画面を表示<br>2. 会社名を修正<br>3. 更新ボタンを押下 | 顧客が更新され、一覧画面に遷移する | 高 |
| 2 | TC-CUS-003-02 | 初期値表示 | 顧客が存在 | 1. 顧客編集画面を表示 | 既存の値が各項目に表示される | 高 |

#### TC-CUS-004 顧客削除

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-CUS-004-01 | 正常削除（管理者） | 管理者でログイン<br>訪問記録に使用されていない顧客 | 1. 顧客一覧画面を表示<br>2. 削除ボタンを押下<br>3. 確認ダイアログでOK | 顧客が削除される | 中 |
| 2 | TC-CUS-004-02 | 削除不可（参照あり） | 訪問記録で使用されている顧客 | 1. 削除ボタンを押下<br>2. 確認ダイアログでOK | エラーメッセージ「この顧客は訪問記録で使用されているため削除できません」が表示される | 中 |
| 3 | TC-CUS-004-03 | 削除権限なし（一般営業） | 一般営業でログイン | 1. 顧客一覧画面を表示 | 削除ボタンが表示されない | 中 |

---

### 2.5 営業マスタ機能テスト

#### TC-SLS-001 営業一覧

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-SLS-001-01 | 一覧表示（管理者） | 管理者でログイン | 1. 営業一覧画面を表示 | 営業一覧が表示される | 高 |
| 2 | TC-SLS-001-02 | アクセス制限（一般営業） | 一般営業でログイン | 1. 営業管理メニューをクリック | メニューが表示されない、またはアクセス拒否 | 高 |
| 3 | TC-SLS-001-03 | 氏名検索 | 営業が複数存在 | 1. 氏名を入力<br>2. 検索ボタンを押下 | 部分一致する営業のみ表示される | 中 |
| 4 | TC-SLS-001-04 | 部署検索 | 営業が複数存在 | 1. 部署を選択<br>2. 検索ボタンを押下 | 選択した部署の営業のみ表示される | 中 |

#### TC-SLS-002 営業登録

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-SLS-002-01 | 正常登録（一般営業） | 管理者でログイン | 1. 営業登録画面を表示<br>2. 氏名を入力<br>3. メールアドレスを入力<br>4. パスワードを入力<br>5. 部署を入力<br>6. 管理者チェックなし<br>7. 登録ボタンを押下 | 一般営業として登録される | 高 |
| 2 | TC-SLS-002-02 | 正常登録（管理者） | 管理者でログイン | 1. 営業登録画面を表示<br>2. 各項目を入力<br>3. 管理者チェックあり<br>4. 登録ボタンを押下 | 管理者として登録される | 高 |
| 3 | TC-SLS-002-03 | 氏名未入力 | - | 1. 氏名を空のまま<br>2. 登録ボタンを押下 | エラーメッセージ「氏名を入力してください」が表示される | 高 |
| 4 | TC-SLS-002-04 | メールアドレス未入力 | - | 1. メールアドレスを空のまま<br>2. 登録ボタンを押下 | エラーメッセージ「メールアドレスを入力してください」が表示される | 高 |
| 5 | TC-SLS-002-05 | メールアドレス重複 | 同じメールアドレスの営業が存在 | 1. 既存と同じメールアドレスを入力<br>2. 登録ボタンを押下 | エラーメッセージ「このメールアドレスは既に登録されています」が表示される | 高 |
| 6 | TC-SLS-002-06 | パスワード未入力 | - | 1. パスワードを空のまま<br>2. 登録ボタンを押下 | エラーメッセージ「パスワードを入力してください」が表示される | 高 |
| 7 | TC-SLS-002-07 | パスワード文字数不足 | - | 1. 7文字以下のパスワードを入力<br>2. 登録ボタンを押下 | エラーメッセージ「パスワードは8文字以上で入力してください」が表示される | 中 |

#### TC-SLS-003 営業編集

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-SLS-003-01 | 正常更新 | 営業が存在 | 1. 営業編集画面を表示<br>2. 氏名を修正<br>3. 更新ボタンを押下 | 営業が更新され、一覧画面に遷移する | 高 |
| 2 | TC-SLS-003-02 | パスワード変更なし | 営業が存在 | 1. 営業編集画面を表示<br>2. パスワードを空のまま<br>3. 他の項目を修正<br>4. 更新ボタンを押下 | パスワードは変更されず、他の項目のみ更新される | 高 |
| 3 | TC-SLS-003-03 | パスワード変更あり | 営業が存在 | 1. 営業編集画面を表示<br>2. 新しいパスワードを入力<br>3. 更新ボタンを押下 | パスワードが変更される | 高 |

#### TC-SLS-004 営業削除

| No | テストケースID | テスト項目 | 事前条件 | 操作手順 | 期待結果 | 優先度 |
|----|---------------|-----------|---------|---------|---------|--------|
| 1 | TC-SLS-004-01 | 正常削除 | 日報が存在しない営業 | 1. 削除ボタンを押下<br>2. 確認ダイアログでOK | 営業が削除される | 中 |
| 2 | TC-SLS-004-02 | 削除不可（参照あり） | 日報が存在する営業 | 1. 削除ボタンを押下<br>2. 確認ダイアログでOK | エラーメッセージ「この営業担当者は日報で使用されているため削除できません」が表示される | 中 |
| 3 | TC-SLS-004-03 | 自分自身の削除不可 | 自分自身のアカウント | 1. 自分の削除ボタンを押下 | エラーメッセージ「自分自身を削除することはできません」が表示される | 中 |

---

## 3. API単体テスト

### 3.1 認証API

| No | テストケースID | API | テスト項目 | リクエスト | 期待レスポンス | 優先度 |
|----|---------------|-----|-----------|-----------|---------------|--------|
| 1 | API-AUTH-001 | POST /auth/login | 正常ログイン | 正しいemail, password | 200, token返却 | 高 |
| 2 | API-AUTH-002 | POST /auth/login | 認証エラー | 誤ったpassword | 401, AUTH_INVALID | 高 |
| 3 | API-AUTH-003 | POST /auth/login | バリデーションエラー | email未指定 | 400, VALIDATION_ERROR | 高 |
| 4 | API-AUTH-004 | POST /auth/logout | 正常ログアウト | 有効なtoken | 200 | 高 |
| 5 | API-AUTH-005 | GET /auth/me | ユーザー情報取得 | 有効なtoken | 200, user情報 | 高 |
| 6 | API-AUTH-006 | GET /auth/me | 認証エラー | 無効なtoken | 401, AUTH_REQUIRED | 高 |

### 3.2 日報API

| No | テストケースID | API | テスト項目 | リクエスト | 期待レスポンス | 優先度 |
|----|---------------|-----|-----------|-----------|---------------|--------|
| 1 | API-RPT-001 | GET /daily-reports | 一覧取得 | - | 200, 日報一覧 | 高 |
| 2 | API-RPT-002 | GET /daily-reports | 日付検索 | date_from, date_to | 200, 該当日報 | 中 |
| 3 | API-RPT-003 | POST /daily-reports | 正常作成 | 必須項目すべて | 201, 作成された日報 | 高 |
| 4 | API-RPT-004 | POST /daily-reports | 重複エラー | 既存日付 | 400, DUPLICATE_ERROR | 高 |
| 5 | API-RPT-005 | POST /daily-reports | バリデーションエラー | report_date未指定 | 400, VALIDATION_ERROR | 高 |
| 6 | API-RPT-006 | GET /daily-reports/:id | 詳細取得 | 存在するID | 200, 日報詳細 | 高 |
| 7 | API-RPT-007 | GET /daily-reports/:id | 存在しないID | 存在しないID | 404, NOT_FOUND | 中 |
| 8 | API-RPT-008 | PUT /daily-reports/:id | 正常更新 | 自分の日報ID | 200, 更新された日報 | 高 |
| 9 | API-RPT-009 | PUT /daily-reports/:id | 権限エラー | 他人の日報ID | 403, PERMISSION_DENIED | 高 |
| 10 | API-RPT-010 | DELETE /daily-reports/:id | 正常削除 | 自分の日報ID | 200 | 中 |
| 11 | API-RPT-011 | POST /daily-reports/:id/comments | コメント投稿（管理者） | 管理者token | 201, コメント | 高 |
| 12 | API-RPT-012 | POST /daily-reports/:id/comments | 権限エラー（一般） | 一般営業token | 403, PERMISSION_DENIED | 高 |

### 3.3 顧客API

| No | テストケースID | API | テスト項目 | リクエスト | 期待レスポンス | 優先度 |
|----|---------------|-----|-----------|-----------|---------------|--------|
| 1 | API-CUS-001 | GET /customers | 一覧取得 | - | 200, 顧客一覧 | 高 |
| 2 | API-CUS-002 | GET /customers | 会社名検索 | company_name | 200, 該当顧客 | 中 |
| 3 | API-CUS-003 | POST /customers | 正常作成 | 必須項目すべて | 201, 作成された顧客 | 高 |
| 4 | API-CUS-004 | POST /customers | バリデーションエラー | company_name未指定 | 400, VALIDATION_ERROR | 高 |
| 5 | API-CUS-005 | GET /customers/:id | 詳細取得 | 存在するID | 200, 顧客詳細 | 高 |
| 6 | API-CUS-006 | PUT /customers/:id | 正常更新 | 有効なデータ | 200, 更新された顧客 | 高 |
| 7 | API-CUS-007 | DELETE /customers/:id | 正常削除（管理者） | 管理者token | 200 | 中 |
| 8 | API-CUS-008 | DELETE /customers/:id | 参照エラー | 使用中の顧客ID | 400, REFERENCE_ERROR | 中 |

### 3.4 営業API

| No | テストケースID | API | テスト項目 | リクエスト | 期待レスポンス | 優先度 |
|----|---------------|-----|-----------|-----------|---------------|--------|
| 1 | API-SLS-001 | GET /sales-persons | 一覧取得（管理者） | 管理者token | 200, 営業一覧 | 高 |
| 2 | API-SLS-002 | GET /sales-persons | 権限エラー（一般） | 一般営業token | 403, PERMISSION_DENIED | 高 |
| 3 | API-SLS-003 | POST /sales-persons | 正常作成 | 必須項目すべて | 201, 作成された営業 | 高 |
| 4 | API-SLS-004 | POST /sales-persons | 重複エラー | 既存email | 400, DUPLICATE_ERROR | 高 |
| 5 | API-SLS-005 | PUT /sales-persons/:id | 正常更新 | 有効なデータ | 200, 更新された営業 | 高 |
| 6 | API-SLS-006 | DELETE /sales-persons/:id | 正常削除 | 未使用の営業ID | 200 | 中 |
| 7 | API-SLS-007 | DELETE /sales-persons/:id | 参照エラー | 使用中の営業ID | 400, REFERENCE_ERROR | 中 |
| 8 | API-SLS-008 | DELETE /sales-persons/:id | 自己削除エラー | 自分のID | 400, SELF_DELETE_ERROR | 中 |

---

## 4. シナリオテスト

### 4.1 日報作成〜コメントシナリオ

| No | テストケースID | シナリオ | 操作手順 | 期待結果 | 優先度 |
|----|---------------|---------|---------|---------|--------|
| 1 | SC-001 | 営業の日報作成からコメント受領まで | 1. 営業Aでログイン<br>2. 日報を作成<br>3. ログアウト<br>4. 管理者でログイン<br>5. 営業Aの日報を確認<br>6. コメントを投稿<br>7. ログアウト<br>8. 営業Aでログイン<br>9. ダッシュボードで未読確認<br>10. 日報詳細でコメント確認 | 全ステップが正常に完了し、コメントが確認できる | 高 |

### 4.2 マスタメンテナンスシナリオ

| No | テストケースID | シナリオ | 操作手順 | 期待結果 | 優先度 |
|----|---------------|---------|---------|---------|--------|
| 1 | SC-002 | 新規営業の追加と日報作成 | 1. 管理者でログイン<br>2. 新規営業を登録<br>3. ログアウト<br>4. 新規営業でログイン<br>5. 日報を作成 | 新規営業がログインでき、日報を作成できる | 高 |
| 2 | SC-003 | 新規顧客の追加と訪問記録 | 1. ログイン<br>2. 新規顧客を登録<br>3. 日報作成画面を表示<br>4. 新規顧客を訪問先として選択<br>5. 日報を保存 | 新規顧客が訪問先として選択でき、日報が作成できる | 中 |

---

## 5. 非機能テスト

### 5.1 セキュリティテスト

| No | テストケースID | テスト項目 | テスト内容 | 期待結果 | 優先度 |
|----|---------------|-----------|-----------|---------|--------|
| 1 | SEC-001 | SQLインジェクション | 入力欄にSQL文を入力 | SQLが実行されない | 高 |
| 2 | SEC-002 | XSS | 入力欄にスクリプトタグを入力 | スクリプトが実行されない | 高 |
| 3 | SEC-003 | CSRF | 外部サイトからのリクエスト | リクエストが拒否される | 高 |
| 4 | SEC-004 | 認証バイパス | トークンなしでAPIアクセス | 401エラーが返される | 高 |
| 5 | SEC-005 | 権限昇格 | 一般営業で管理者APIにアクセス | 403エラーが返される | 高 |

### 5.2 パフォーマンステスト

| No | テストケースID | テスト項目 | テスト条件 | 期待結果 | 優先度 |
|----|---------------|-----------|-----------|---------|--------|
| 1 | PERF-001 | 日報一覧表示 | 日報1000件 | 3秒以内に表示 | 中 |
| 2 | PERF-002 | 顧客一覧表示 | 顧客500件 | 2秒以内に表示 | 中 |
| 3 | PERF-003 | 同時アクセス | 10ユーザー同時アクセス | 正常に動作 | 低 |

### 5.3 ブラウザ互換性テスト

| No | テストケースID | ブラウザ | テスト内容 | 期待結果 | 優先度 |
|----|---------------|---------|-----------|---------|--------|
| 1 | BROWSER-001 | Chrome（最新） | 全画面操作 | 正常に動作 | 高 |
| 2 | BROWSER-002 | Edge（最新） | 全画面操作 | 正常に動作 | 高 |
| 3 | BROWSER-003 | Firefox（最新） | 全画面操作 | 正常に動作 | 中 |
| 4 | BROWSER-004 | Safari（最新） | 全画面操作 | 正常に動作 | 中 |

---

## 6. テスト結果記録

### 6.1 テスト結果サマリ

| テスト種別 | 総件数 | 合格 | 不合格 | 未実施 | 合格率 |
|-----------|--------|------|--------|--------|--------|
| 認証機能テスト | - | - | - | - | - |
| ダッシュボードテスト | - | - | - | - | - |
| 日報機能テスト | - | - | - | - | - |
| 顧客マスタテスト | - | - | - | - | - |
| 営業マスタテスト | - | - | - | - | - |
| API単体テスト | - | - | - | - | - |
| シナリオテスト | - | - | - | - | - |
| 非機能テスト | - | - | - | - | - |

### 6.2 不具合一覧

| No | 発見日 | テストケースID | 不具合内容 | 重要度 | ステータス | 修正日 |
|----|--------|---------------|-----------|--------|-----------|--------|
| - | - | - | - | - | - | - |
